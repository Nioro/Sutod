{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\markp\\\\Desktop\\\\Sutod\\\\Frontend\\\\src\\\\Components\\\\Chats\\\\Menu.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport './Chat.css';\nimport ChatInfo from './Chat_info';\nimport { useNavigate } from 'react-router-dom';\nimport Chat from './Chat';\nimport GroupChat from './GroupChat';\nimport ChannelChat from './ChannelChat';\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chats() {\n  _s();\n  const navigate = useNavigate();\n  const [searchCheck, setSearchCheck] = useState(true);\n  const [isClick, setIsClick] = useState(true);\n  const [userid, setuserId] = useState(-1);\n  const [search, setSearch] = useState('');\n  const [userInfo, setUserInfo] = useState([]);\n  const [userChats, setUserChats] = useState([]);\n  const [userGroups, setUserGroups] = useState([]);\n  const [userChannels, setUserChannels] = useState([]);\n  const [activeCategory, setActiveCategory] = useState('chats');\n  const [selectedChatId, setSelectedChatId] = useState(null);\n  const [chat, setChat] = useState(/*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false));\n  const handleChange = e => {\n    setSearch(e.target.value);\n    if (e.target.value.trim() === '') {\n      setSearchCheck(true);\n      setSelectedChatId(null);\n      getAllChats(userid);\n    }\n  };\n  const toSettings = () => navigate(\"/settings\");\n  const toGroupCreate = () => navigate(\"/group\");\n  const clickChat = (value, id, name, img, creatorId) => {\n    if (selectedChatId === id) {\n      console.log('Deselecting chat:', id);\n      setSelectedChatId(null);\n      setIsClick(true);\n      setChat(/*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false));\n    } else {\n      console.log('Selecting new chat:', id);\n      setIsClick(!value);\n      setSelectedChatId(id);\n      if (activeCategory === 'chats') {\n        setChat(/*#__PURE__*/_jsxDEV(Chat, {\n          userId: userid,\n          user2Id: id,\n          username: name,\n          img: img\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this));\n      } else if (activeCategory == 'groups') {\n        setChat(/*#__PURE__*/_jsxDEV(GroupChat, {\n          userId: userid,\n          groupId: id,\n          groupName: name,\n          groupAvatar: img,\n          creatorId: creatorId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this));\n      } else if (activeCategory == 'channels') {\n        setChat(/*#__PURE__*/_jsxDEV(ChannelChat, {\n          userId: userid,\n          channelId: id,\n          channelName: name,\n          channelAvatar: img,\n          ownerId: creatorId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this));\n      }\n    }\n  };\n  const refreshToken = async () => {\n    try {\n      const response = await fetch(\"http://localhost:8080/auth/refresh\", {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.ok) {\n        const token = await response.text();\n        localStorage.setItem(\"token\", token);\n        return true;\n      }\n      navigate('/');\n      return false;\n    } catch (error) {\n      navigate('/');\n      return false;\n    }\n  };\n  const searchUser = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/users/${search}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        if (data.id === userid) return;\n        setUserInfo([data]);\n        setSearchCheck(false);\n      } else if (response.status === 401) {\n        if (await refreshToken()) {\n          await searchUser();\n        }\n      } else {\n        setSearchCheck(true);\n      }\n    } catch (error) {\n      setSearchCheck(true);\n      console.error('–û—à–∏–±–∫–∞:', error);\n    }\n  };\n  const getUserId = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/users/id/${localStorage.getItem(\"token\")}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setuserId(data);\n        return data;\n      } else if (response.status === 401) {\n        if (await refreshToken()) {\n          return await getUserId();\n        }\n      }\n      return null;\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞:', error);\n      return null;\n    }\n  };\n  const switchCategory = category => {\n    setActiveCategory(category);\n    setSearchCheck(true);\n  };\n  const getAllChats = async id => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/chats/${id}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUserChats(Array.isArray(data) ? data : [data]);\n        console.log('Chats:', data);\n        setActiveCategory('chats'); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      } else if (response.status === 401) {\n        if (await refreshToken()) {\n          await getAllChats(id);\n        }\n      }\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–∞—Ç–æ–≤:', error);\n    }\n  };\n  const getAllGroups = async id => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/groups/${id}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUserGroups(Array.isArray(data) ? data : [data]);\n        console.log('Groups:', data);\n        setActiveCategory('groups'); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      } else if (response.status === 401) {\n        if (await refreshToken()) {\n          await getAllGroups(id);\n        }\n      }\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≥—Ä—É–ø–ø:', error);\n    }\n  };\n  const getAllChannels = async id => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/channel/${id}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUserChannels(Array.isArray(data) ? data : [data]);\n        console.log('Channels:', data);\n        setActiveCategory('channels'); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      } else if (response.status === 401) {\n        if (await refreshToken()) {\n          await getAllChannels(id);\n        }\n      }\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞–Ω–∞–ª–æ–≤:', error);\n    }\n  };\n  const getAllChannelsByName = async name => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/channel/search/${name}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUserChannels(Array.isArray(data) ? data : [data]);\n        console.log('Channels:', data);\n        setActiveCategory('channels'); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      } else if (response.status === 401) {\n        if (await refreshToken()) {\n          await getAllChannelsByName(name);\n        }\n      }\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞–Ω–∞–ª–æ–≤:', error);\n    }\n  };\n  useEffect(() => {\n    const init = async () => {\n      const id = await getUserId();\n      if (id) {\n        await getAllGroups(id);\n        await getAllChannels(id);\n        await getAllChats(id);\n      }\n    };\n    init();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chats_block\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"folder_block\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user_block\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user_folder_photo\",\n          onClick: toSettings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"user_folder_search\",\n          placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n          value: search,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search_button\",\n          onClick: searchUser,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"search_icon\",\n            children: \"\\uD83D\\uDD0D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"folder\",\n        children: !searchCheck ?\n        // –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n        userInfo.map((user, index) => /*#__PURE__*/_jsxDEV(ChatInfo, {\n          name: user.username,\n          img: user.avatar,\n          text: \"\",\n          time: \"\",\n          func: () => clickChat(isClick, user.id, user.username, user.avatar),\n          isSelected: selectedChatId === user.id,\n          chatId: user.id\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 29\n        }, this)) :\n        /*#__PURE__*/\n        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n        _jsxDEV(_Fragment, {\n          children: [activeCategory === 'chats' && userChats.map((item, index) => {\n            var _item$lastMessage, _item$lastMessage2;\n            return /*#__PURE__*/_jsxDEV(ChatInfo, {\n              name: item.username,\n              img: item.avatar,\n              text: ((_item$lastMessage = item.lastMessage) === null || _item$lastMessage === void 0 ? void 0 : _item$lastMessage.text) || \"\",\n              time: ((_item$lastMessage2 = item.lastMessage) === null || _item$lastMessage2 === void 0 ? void 0 : _item$lastMessage2.timestamp) || \"\",\n              func: () => clickChat(isClick, item.user2Id, item.username, item.avatar),\n              isSelected: selectedChatId === item.user2Id,\n              chatId: item.user2Id\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 33\n            }, this);\n          }), activeCategory === 'groups' && userGroups.map((item, index) => /*#__PURE__*/_jsxDEV(ChatInfo, {\n            name: item.username || item.groupName || \"–ì—Ä—É–ø–ø–∞\",\n            text: item.description || \"\",\n            img: item.avatar,\n            time: \"\",\n            func: () => clickChat(isClick, item.groupId, item.name || item.groupName, item.avatar, item.creatorId),\n            isSelected: selectedChatId === item.groupId,\n            chatId: item.id\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 33\n          }, this)), activeCategory === 'channels' && userChannels.map((item, index) => /*#__PURE__*/_jsxDEV(ChatInfo, {\n            name: item.name || item.channelName || \"–ö–∞–Ω–∞–ª\",\n            text: item.description || \"\",\n            img: item.avatar,\n            time: \"\",\n            func: () => clickChat(isClick, item.channelId, item.name || item.channelName, item.avatar, item.ownerId),\n            isSelected: selectedChatId === item.channelId,\n            chatId: item.id\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }, this), !selectedChatId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create_buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"create_button group_create\",\n          onClick: toGroupCreate,\n          title: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0433\\u0440\\u0443\\u043F\\u043F\\u0443\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"create_icon\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"create_text\",\n            children: \"\\u0413\\u0440\\u0443\\u043F\\u043F\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"create_button channel_create\",\n          onClick: () => navigate(\"/channel\"),\n          title: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043A\\u0430\\u043D\\u0430\\u043B\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"create_text\",\n            children: \"\\uD83D\\uDCE2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"create_text\",\n            children: \"\\u041A\\u0430\\u043D\\u0430\\u043B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat_block\",\n      children: chat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data_buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `data_button ${activeCategory === 'chats' ? 'active' : ''}`,\n        onClick: () => {\n          switchCategory('chats');\n          getAllChats(userid);\n        },\n        children: [\"\\u0427\\u0430\\u0442\\u044B (\", userChats.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `data_button ${activeCategory === 'groups' ? 'active' : ''}`,\n        onClick: () => {\n          switchCategory('groups');\n          getAllGroups(userid);\n        },\n        children: [\"\\u0413\\u0440\\u0443\\u043F\\u043F\\u044B (\", userGroups.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `data_button ${activeCategory === 'channels' ? 'active' : ''}`,\n        onClick: () => {\n          switchCategory('channels');\n          getAllChannels(userid);\n        },\n        children: [\"\\u041A\\u0430\\u043D\\u0430\\u043B\\u044B (\", userChannels.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 9\n  }, this);\n}\n_s(Chats, \"W05sQJVpvVLfYHLOZFeufzMO8d4=\", false, function () {\n  return [useNavigate];\n});\n_c = Chats;\nexport default Chats;\nvar _c;\n$RefreshReg$(_c, \"Chats\");","map":{"version":3,"names":["useEffect","useState","ChatInfo","useNavigate","Chat","GroupChat","ChannelChat","Fragment","_Fragment","jsxDEV","_jsxDEV","Chats","_s","navigate","searchCheck","setSearchCheck","isClick","setIsClick","userid","setuserId","search","setSearch","userInfo","setUserInfo","userChats","setUserChats","userGroups","setUserGroups","userChannels","setUserChannels","activeCategory","setActiveCategory","selectedChatId","setSelectedChatId","chat","setChat","handleChange","e","target","value","trim","getAllChats","toSettings","toGroupCreate","clickChat","id","name","img","creatorId","console","log","userId","user2Id","username","fileName","_jsxFileName","lineNumber","columnNumber","groupId","groupName","groupAvatar","channelId","channelName","channelAvatar","ownerId","refreshToken","response","fetch","method","credentials","headers","ok","token","text","localStorage","setItem","error","searchUser","getItem","data","json","status","getUserId","switchCategory","category","Array","isArray","getAllGroups","getAllChannels","getAllChannelsByName","init","className","children","onClick","placeholder","onChange","map","user","index","avatar","time","func","isSelected","chatId","item","_item$lastMessage","_item$lastMessage2","lastMessage","timestamp","description","title","length","_c","$RefreshReg$"],"sources":["C:/Users/markp/Desktop/Sutod/Frontend/src/Components/Chats/Menu.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport './Chat.css'\nimport ChatInfo from './Chat_info';\nimport { useNavigate } from 'react-router-dom';\nimport Chat from './Chat';\nimport GroupChat from './GroupChat';\nimport ChannelChat from './ChannelChat';\n\nfunction Chats() {\n    const navigate = useNavigate()\n    const [searchCheck, setSearchCheck] = useState(true)\n    const [isClick, setIsClick] = useState(true)\n    const [userid, setuserId] = useState(-1)\n    const [search, setSearch] = useState('')\n    const [userInfo, setUserInfo] = useState([])\n    const [userChats, setUserChats] = useState([])\n    const [userGroups, setUserGroups] = useState([])\n    const [userChannels, setUserChannels] = useState([])\n    const [activeCategory, setActiveCategory] = useState('chats') \n    const [selectedChatId, setSelectedChatId] = useState(null)\n    const [chat, setChat] = useState(<></>)\n    \n\n    const handleChange = (e) => {\n        setSearch(e.target.value)\n        if (e.target.value.trim() === '') {\n            setSearchCheck(true)\n            setSelectedChatId(null) \n            getAllChats(userid)\n        }\n    }\n\n    const toSettings = () => navigate(\"/settings\")\n    const toGroupCreate = () => navigate(\"/group\")\n\n    const clickChat = (value, id, name, img, creatorId) => {\n        if (selectedChatId === id) {\n            console.log('Deselecting chat:', id)\n            setSelectedChatId(null)\n            setIsClick(true)\n            setChat(<></>)\n        } else {\n            console.log('Selecting new chat:', id)\n            setIsClick(!value)\n            setSelectedChatId(id)\n\n            if(activeCategory === 'chats'){\n                setChat(<Chat\n                    userId={userid}\n                    user2Id={id}\n                    username={name}\n                    img={img}\n                />)\n            }\n            else if(activeCategory == 'groups'){\n                setChat(<GroupChat\n                    userId={userid}\n                    groupId={id}\n                    groupName={name}\n                    groupAvatar={img}\n                    creatorId={creatorId}\n                />)\n            }\n            else if(activeCategory == 'channels'){\n                setChat(<ChannelChat\n                            userId={userid}\n                            channelId={id}\n                            channelName={name}\n                            channelAvatar = {img}\n                            ownerId={creatorId}\n                        />)\n            }\n        }\n    }\n\n    const refreshToken = async () => {\n        try {\n            const response = await fetch(\"http://localhost:8080/auth/refresh\", {\n                method: \"POST\",\n                credentials: \"include\",\n                headers: { \"Content-Type\": \"application/json\" }\n            });\n\n            if (response.ok) {\n                const token = await response.text()\n                localStorage.setItem(\"token\", token)\n                return true\n            }\n            navigate('/')\n            return false\n        } catch (error) {\n            navigate('/')\n            return false\n        }\n    }\n\n    const searchUser = async () => {\n        try {\n            const response = await fetch(`http://localhost:8080/api/users/${search}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n                    'Content-Type': 'application/json'\n                },\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                if (data.id === userid) return\n                setUserInfo([data])\n                setSearchCheck(false)\n            } else if (response.status === 401) {\n                if (await refreshToken()) {\n                    await searchUser()\n                }\n            } else {\n                setSearchCheck(true)\n            }\n        } catch (error) {\n            setSearchCheck(true)\n            console.error('–û—à–∏–±–∫–∞:', error);\n        }\n    }\n\n    const getUserId = async () => {\n        try {\n            const response = await fetch(`http://localhost:8080/api/users/id/${localStorage.getItem(\"token\")}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n                    'Content-Type': 'application/json'\n                },\n            });\n            \n            if (response.ok) {\n                const data = await response.json();\n                setuserId(data)\n                return data\n            } else if (response.status === 401) {\n                if (await refreshToken()) {\n                    return await getUserId()\n                }\n            }\n            return null\n        } catch (error) {\n            console.error('–û—à–∏–±–∫–∞:', error);\n            return null\n        }\n    }\n\n    const switchCategory = (category) => {\n        setActiveCategory(category)\n        setSearchCheck(true) \n        \n    }\n\n    const getAllChats = async (id) => {\n        try {\n            const response = await fetch(`http://localhost:8080/api/chats/${id}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n                    'Content-Type': 'application/json'\n                },\n            })\n\n            if (response.ok) {\n                const data = await response.json()\n                setUserChats(Array.isArray(data) ? data : [data])\n                console.log('Chats:', data)\n                setActiveCategory('chats') // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n            } \n            else if (response.status === 401) {\n                if (await refreshToken()) {\n                    await getAllChats(id)\n                }\n            }\n        } catch (error) {\n            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–∞—Ç–æ–≤:', error);\n        }\n    }\n\n    const getAllGroups = async (id) => {\n        try {\n            const response = await fetch(`http://localhost:8080/api/groups/${id}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n                    'Content-Type': 'application/json'\n                },\n            })\n\n            if (response.ok) {\n                const data = await response.json()\n                setUserGroups(Array.isArray(data) ? data : [data])\n                console.log('Groups:', data)\n                setActiveCategory('groups') // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n            } \n            else if (response.status === 401) {\n                if (await refreshToken()) {\n                    await getAllGroups(id)\n                }\n            }\n        } catch (error) {\n            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≥—Ä—É–ø–ø:', error);\n        }\n    }\n\n    const getAllChannels = async (id) => {\n        try {\n            const response = await fetch(`http://localhost:8080/api/channel/${id}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n                    'Content-Type': 'application/json'\n                },\n            })\n\n            if (response.ok) {\n                const data = await response.json()\n                setUserChannels(Array.isArray(data) ? data : [data])\n                console.log('Channels:', data)\n                setActiveCategory('channels') // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n            } \n            else if (response.status === 401) {\n                if (await refreshToken()) {\n                    await getAllChannels(id)\n                }\n            }\n        } catch (error) {\n            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞–Ω–∞–ª–æ–≤:', error);\n        }\n    }\n\n    const getAllChannelsByName = async (name) => {\n        try {\n            const response = await fetch(`http://localhost:8080/api/channel/search/${name}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`,\n                    'Content-Type': 'application/json'\n                },\n            })\n\n            if (response.ok) {\n                const data = await response.json()\n                setUserChannels(Array.isArray(data) ? data : [data])\n                console.log('Channels:', data)\n                setActiveCategory('channels') // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n            } \n            else if (response.status === 401) {\n                if (await refreshToken()) {\n                    await getAllChannelsByName(name)\n                }\n            }\n        } catch (error) {\n            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞–Ω–∞–ª–æ–≤:', error);\n        }\n    }\n\n    useEffect(() => {\n        const init = async () => {\n            const id = await getUserId()\n            if (id) {\n                await getAllGroups(id)\n                await getAllChannels(id)\n                await getAllChats(id)\n            }\n        }\n        init()\n    }, [])\n\n    return (\n        <div className='chats_block'>\n            <div className=\"folder_block\">\n                <div className=\"user_block\">\n                    <div className=\"user_folder_photo\" onClick={toSettings}></div>\n                    <input className=\"user_folder_search\" placeholder='–ü–æ–∏—Å–∫' value={search} onChange={handleChange}/>\n                    <button className=\"search_button\" onClick={searchUser}>\n                        <span className=\"search_icon\">üîç</span>\n                    </button>\n                </div>\n\n                <div className=\"folder\">\n                    {!searchCheck ? (\n                        // –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n                        userInfo.map((user, index) => (\n                            <ChatInfo\n                                key={index}\n                                name={user.username}\n                                img = {user.avatar}\n                                text=\"\"\n                                time=\"\"\n                                func={() => clickChat(isClick, user.id, user.username, user.avatar)}\n                                isSelected={selectedChatId === user.id}\n                                chatId={user.id}\n                            />\n                        ))\n                    ) : (\n                        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n                        <>\n                            {activeCategory === 'chats' && userChats.map((item, index) => (\n                                <ChatInfo\n                                    key={index}\n                                    name={item.username}\n                                    img={item.avatar}\n                                    text={item.lastMessage?.text || \"\"}\n                                    time={item.lastMessage?.timestamp || \"\"}\n                                    func={() => clickChat(isClick, item.user2Id, item.username, item.avatar)}\n                                    isSelected={selectedChatId === item.user2Id}\n                                    chatId={item.user2Id}\n                                />\n                            ))}\n                            {activeCategory === 'groups' && userGroups.map((item, index) => (\n                                <ChatInfo\n                                    key={index}\n                                    name={item.username || item.groupName || \"–ì—Ä—É–ø–ø–∞\"}\n                                    text={item.description || \"\"}\n                                    img={item.avatar}\n                                    time=\"\"\n                                    func={() => clickChat(isClick, item.groupId, item.name || item.groupName, item.avatar, item.creatorId)}\n                                    isSelected={selectedChatId === item.groupId}\n                                    chatId={item.id}\n                                />\n                            ))}\n                            {activeCategory === 'channels' && userChannels.map((item, index) => (\n                                <ChatInfo\n                                    key={index}\n                                    name={item.name || item.channelName || \"–ö–∞–Ω–∞–ª\"}\n                                    text={item.description || \"\"}\n                                    img = {item.avatar}\n                                    time=\"\"\n                                    func={() => clickChat(isClick, item.channelId, item.name || item.channelName, item.avatar, item.ownerId)}\n                                    isSelected={selectedChatId === item.channelId}\n                                    chatId={item.id}\n                                />\n                            ))}\n                        </>\n                    )}\n                </div>\n                {!selectedChatId && (\n                    <div className=\"create_buttons\">\n                        <button \n                            className=\"create_button group_create\"\n                            onClick={toGroupCreate}\n                            title=\"–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É\"\n                        >\n                            <span className=\"create_icon\">üë•</span>\n                            <span className=\"create_text\">–ì—Ä—É–ø–ø–∞</span>\n                        </button>\n                        <button \n                            className=\"create_button channel_create\"\n                            onClick={() => navigate(\"/channel\")}\n                            title=\"–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª\"\n                        >\n                            <span className=\"create_text\">üì¢</span>\n                            <span className=\"create_text\">–ö–∞–Ω–∞–ª</span>\n                        </button>\n                    </div>\n                )}\n            </div>\n            <div className='chat_block'>\n                {chat}\n            </div>\n            \n            <div className=\"data_buttons\">\n                <button \n                    className={`data_button ${activeCategory === 'chats' ? 'active' : ''}`}\n                    onClick={() => {\n                        switchCategory('chats')\n                        getAllChats(userid)\n                    }}\n                >\n                    –ß–∞—Ç—ã ({userChats.length})\n                </button>\n                <button \n                    className={`data_button ${activeCategory === 'groups' ? 'active' : ''}`}\n                    onClick={() => {\n                        switchCategory('groups')\n                        getAllGroups(userid)\n                    }}\n                >\n                    –ì—Ä—É–ø–ø—ã ({userGroups.length})\n                </button>\n                <button \n                    className={`data_button ${activeCategory === 'channels' ? 'active' : ''}`}\n                    onClick={() => {\n                        switchCategory('channels')\n                        getAllChannels(userid)\n                    }}\n                >\n                    –ö–∞–Ω–∞–ª—ã ({userChannels.length})\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default Chats;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}